#!/bin/bash
#SBATCH -J 2j1b1e0r
#SBATCH --output=%J.out
#SBATCH --error=%J.err
#SBATCH -t 02:00:00
#SBATCH --nodes 1
#SBATCH --ntasks-per-node=16
#SBATCH --mail-type=ALL --mail-user=tha@flatironinstitute.org
#SBATCH -p genx

# activate threading
# export OMP_NUM_THREADS=1
export PYTHONDONTWRITEBYTECODE=true
# export HDF5_USE_FILE_LOCKING=FALSE

source /mnt/home/tha10/venv-python/som/bin/activate

python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.1 --ratio 0.6 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.2 --ratio 0.6 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.4 --ratio 0.6 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.8 --ratio 0.6 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.05 --ratio 0.6 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.025 --ratio 0.6 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.1 --ratio 0.5 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.2 --ratio 0.5 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.4 --ratio 0.5 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.8 --ratio 0.5 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.05 --ratio 0.5 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.025 --ratio 0.5 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.1 --ratio 0.9 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.2 --ratio 0.9 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.4 --ratio 0.9 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.8 --ratio 0.9 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.05 --ratio 0.9 &
python3 ~/git_repos/aweSOM/som/start_generic_som.py --features_path /mnt/ceph/users/tha10/SOM-tests/lr-d3x128/production/ --file features_2j1b1e0r_5000_jasym.h5 --alpha 0.025 --ratio 0.9 &
wait
